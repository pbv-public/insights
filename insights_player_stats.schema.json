{
  "$id": "/insights/player_stats",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "additionalProperties": false,
  "description": "Contains player-specific stats over the whole game.",
  "properties": {
    "average_serve_speed": {
      "description": "The average speed of serves by the player (MPH).",
      "type": "number"
    },
    "average_speed_shot": {
      "description": "The average speed of shots by the player (MPH).",
      "type": "number"
    },
    "ball_directions": {
      "additionalProperties": false,
      "description": "Categorizes ball directions across a player's shots (9 total).",
      "properties": {
        "down_the_line_left_count": {
          "$ref": "/types/count",
          "description": "A shot played from the left straight down the left sideline.",
          "title": "Count"
        },
        "down_the_line_right_count": {
          "$ref": "/types/count",
          "description": "A shot played from the right straight down the right sideline.",
          "title": "Count"
        },
        "down_the_middle_count": {
          "$ref": "/types/count",
          "description": "A shot played from the middle straight down the middle of the court.",
          "title": "Count"
        },
        "left_cross_right_count": {
          "$ref": "/types/count",
          "description": "A shot played from the left side of the court that crosses over to the right side.",
          "title": "Count"
        },
        "left_to_middle_count": {
          "$ref": "/types/count",
          "description": "A shot played from the left side of the court towards the middle.",
          "title": "Count"
        },
        "mid_cross_left_count": {
          "$ref": "/types/count",
          "description": "A shot played from the middle of the court that crosses over to the left side.",
          "title": "Count"
        },
        "mid_cross_right_count": {
          "$ref": "/types/count",
          "description": "A shot played from the middle of the court that crosses over to the right side.",
          "title": "Count"
        },
        "right_cross_left_count": {
          "$ref": "/types/count",
          "description": "A shot played from the right side of the court that crosses over to the left side.",
          "title": "Count"
        },
        "right_to_middle_count": {
          "$ref": "/types/count",
          "description": "A shot played from the right side of the court towards the middle.",
          "title": "Count"
        }
      },
      "required": [
        "mid_cross_left_count",
        "mid_cross_right_count",
        "down_the_middle_count",
        "left_to_middle_count",
        "left_cross_right_count",
        "down_the_line_left_count",
        "right_to_middle_count",
        "right_cross_left_count",
        "down_the_line_right_count"
      ],
      "title": "Ball Directions",
      "type": "object"
    },
    "court_coverage": {
      "additionalProperties": false,
      "description": "Categorizes various statistics about a players court coverage across all rallies.",
      "properties": {
        "average_x_coverage_percentage": {
          "description": "The average amount of time each player spent on the left side of the court.",
          "type": "number"
        },
        "heat_map_coordinates": {
          "additionalProperties": false,
          "description": "Scaled player positions during any shot event where the player is on the court.",
          "properties": {
            "xs_encoded": {
              "$ref": "/types/encoded_positions",
              "description": "Scaled, base64 encoded integers between [0,127] representing the player's position across the width (x dimension) of the court",
              "title": "Encoded X Positions"
            },
            "ys_encoded": {
              "$ref": "/types/encoded_positions",
              "description": "Scaled, reflected, base64 encoded integers between [0,127] representing the player's position across the length (y dimension) of the court",
              "title": "Encoded Y Positions"
            }
          },
          "required": [
            "xs_encoded",
            "ys_encoded"
          ],
          "title": "Heat Map Coordinates",
          "type": "object"
        },
        "total_distance_covered": {
          "description": "The number of feet each player travels between shots in all rallies combined.",
          "type": "number"
        }
      },
      "title": "Court Coverage",
      "type": "object"
    },
    "final_shot_count": {
      "$ref": "/types/count",
      "description": "The total number of final shots by the player.",
      "title": "Count"
    },
    "ground_stroke_count": {
      "$ref": "/types/count",
      "description": "The total number of ground strokes by the player.",
      "title": "Count"
    },
    "left_side_percentage": {
      "$ref": "/types/percentage",
      "description": "The percentage of shots that went to the left side.",
      "title": "Percentage"
    },
    "median_serve_speed": {
      "description": "The median speed of serves by the player (MPH).",
      "type": "number"
    },
    "median_speed_shot": {
      "description": "The median speed of shots by the player (MPH).",
      "type": "number"
    },
    "return_count": {
      "$ref": "/types/count",
      "description": "The total number of returns by the player.",
      "title": "Count"
    },
    "role_stats": {
      "additionalProperties": false,
      "description": "stats about this player in each serving and receiving role",
      "properties": {
        "receiving": {
          "additionalProperties": false,
          "description": "stats while this player's team was receiving",
          "properties": {
            "oneself": {
              "additionalProperties": false,
              "description": "stats while this player's team was receiving and this player was the receiver",
              "properties": {
                "kitchen_arrival": {
                  "$ref": "/types/count",
                  "description": "number of times the player arrived at the kitchen",
                  "title": "Count"
                },
                "total": {
                  "$ref": "/types/count",
                  "description": "total number of rallies counted in this category",
                  "title": "Count"
                }
              },
              "required": [
                "kitchen_arrival",
                "total"
              ],
              "title": "Rally Category Counts",
              "type": "object"
            },
            "partner": {
              "additionalProperties": false,
              "description": "stats while this player's team was receiving and this player's partner was the receiver",
              "properties": {
                "kitchen_arrival": {
                  "$ref": "/types/count",
                  "description": "number of times the player arrived at the kitchen",
                  "title": "Count"
                },
                "total": {
                  "$ref": "/types/count",
                  "description": "total number of rallies counted in this category",
                  "title": "Count"
                }
              },
              "required": [
                "kitchen_arrival",
                "total"
              ],
              "title": "Rally Category Counts",
              "type": "object"
            }
          },
          "required": [
            "partner",
            "oneself"
          ],
          "title": "Rally Stats when Receiving",
          "type": "object"
        },
        "serving": {
          "additionalProperties": false,
          "description": "stats while this player's team was serving",
          "properties": {
            "oneself": {
              "additionalProperties": false,
              "description": "stats while this player's team was serving and this player was the server",
              "properties": {
                "kitchen_arrival": {
                  "$ref": "/types/count",
                  "description": "number of times the player arrived at the kitchen",
                  "title": "Count"
                },
                "total": {
                  "$ref": "/types/count",
                  "description": "total number of rallies counted in this category",
                  "title": "Count"
                }
              },
              "required": [
                "kitchen_arrival",
                "total"
              ],
              "title": "Rally Category Counts",
              "type": "object"
            },
            "partner": {
              "additionalProperties": false,
              "description": "stats while this player's team was serving and this player's partner was the server",
              "properties": {
                "kitchen_arrival": {
                  "$ref": "/types/count",
                  "description": "number of times the player arrived at the kitchen",
                  "title": "Count"
                },
                "total": {
                  "$ref": "/types/count",
                  "description": "total number of rallies counted in this category",
                  "title": "Count"
                }
              },
              "required": [
                "kitchen_arrival",
                "total"
              ],
              "title": "Rally Category Counts",
              "type": "object"
            }
          },
          "required": [
            "partner",
            "oneself"
          ],
          "title": "Rally Stats when Serving",
          "type": "object"
        }
      },
      "required": [
        "serving",
        "receiving"
      ],
      "title": "Role Stats",
      "type": "object"
    },
    "serve_count": {
      "$ref": "/types/count",
      "description": "The total number of serves by the player.",
      "title": "Count"
    },
    "shot_count": {
      "$ref": "/types/count",
      "description": "The total number of shots by the player.",
      "title": "Count"
    },
    "shot_zones": {
      "additionalProperties": false,
      "properties": {
        "returns": {
          "additionalProperties": false,
          "description": "how often returns land in various zones",
          "properties": {
            "deep": {
              "$ref": "/types/count",
              "description": "the number of times the ball landed deep in the opponents court",
              "title": "Count"
            },
            "kitchen": {
              "$ref": "/types/count",
              "description": "the number of times the ball landed in the opponents kitchen",
              "title": "Count"
            },
            "mid": {
              "$ref": "/types/count",
              "description": "the number of times the ball landed in the transition zone in the opponents court",
              "title": "Count"
            },
            "net": {
              "$ref": "/types/count",
              "description": "the number of times the ball hit the net (fault); excludes balls which touched the net but rolled or bounced over",
              "title": "Count"
            },
            "out": {
              "$ref": "/types/count",
              "description": "the number of times the ball hit outside the court (fault)",
              "title": "Count"
            },
            "short": {
              "$ref": "/types/count",
              "description": "the number of times the ball landed short in the opponents court",
              "title": "Count"
            }
          },
          "required": [
            "deep",
            "mid",
            "short",
            "kitchen",
            "net",
            "out"
          ],
          "title": "Zone Stats",
          "type": "object"
        },
        "serves": {
          "additionalProperties": false,
          "description": "how often serves land in various zones",
          "properties": {
            "deep": {
              "$ref": "/types/count",
              "description": "the number of times the ball landed deep in the opponents court",
              "title": "Count"
            },
            "kitchen": {
              "$ref": "/types/count",
              "description": "the number of times the ball landed in the opponents kitchen",
              "title": "Count"
            },
            "mid": {
              "$ref": "/types/count",
              "description": "the number of times the ball landed in the transition zone in the opponents court",
              "title": "Count"
            },
            "net": {
              "$ref": "/types/count",
              "description": "the number of times the ball hit the net (fault); excludes balls which touched the net but rolled or bounced over",
              "title": "Count"
            },
            "out": {
              "$ref": "/types/count",
              "description": "the number of times the ball hit outside the court (fault)",
              "title": "Count"
            },
            "short": {
              "$ref": "/types/count",
              "description": "the number of times the ball landed short in the opponents court",
              "title": "Count"
            }
          },
          "required": [
            "deep",
            "mid",
            "short",
            "kitchen",
            "net",
            "out"
          ],
          "title": "Zone Stats",
          "type": "object"
        }
      },
      "required": [
        "serves",
        "returns"
      ],
      "title": "Shot Zones",
      "type": "object"
    },
    "team": {
      "description": "The team to which the player belongs.",
      "maximum": 1,
      "minimum": 0,
      "type": "integer"
    },
    "third_shot_stats": {
      "additionalProperties": false,
      "properties": {
        "drives": {
          "additionalProperties": false,
          "description": "Stats about third shot drives. Omitted if the player did not hit any drives.",
          "properties": {
            "avg_height_over_net": {
              "description": "The average height over net across shots.",
              "type": "number"
            },
            "avg_speed": {
              "description": "The average speed across shots.",
              "type": "number"
            },
            "ball_trajectories": {
              "description": "The flight path of each shot.",
              "items": {
                "additionalProperties": false,
                "description": "Describes the idealized flight path of a ball after it was hit by the player.\n\nThe ball essentially flies in a 2D projectile motion along a 2D plane. One dimension\nof this plane is aligned with the Z-axis. An estimation of its path through 3D space\ncan be reconstructed from its initial flight characteristics and start and end\npoints.",
                "properties": {
                  "confidence": {
                    "$ref": "/types/confidence",
                    "description": "our confidence in this trajectory (based on our confidence in the start and end positions of the ball)",
                    "title": "Prediction Confidence"
                  },
                  "end": {
                    "additionalProperties": false,
                    "description": "the end of the ball's flight which happens when it bounces, hits the net, is hit by a paddle, or flies out of the video frame",
                    "properties": {
                      "ms": {
                        "$ref": "/types/video_time",
                        "description": "when the ball ended its flight",
                        "title": "Video Milliseconds"
                      },
                      "position": {
                        "$ref": "/types/world_position/3d",
                        "description": "where the ball when it ended its flight",
                        "title": "World XYZ"
                      }
                    },
                    "required": [
                      "position",
                      "ms"
                    ],
                    "type": "object"
                  },
                  "peak": {
                    "$ref": "/types/world_position/3d",
                    "description": "where the ball reached its highest (z) point",
                    "title": "World XYZ"
                  },
                  "start": {
                    "additionalProperties": false,
                    "description": "the moment the ball starts flying after being hit",
                    "properties": {
                      "ms": {
                        "$ref": "/types/video_time",
                        "description": "when the ball was hit",
                        "title": "Video Milliseconds"
                      },
                      "position": {
                        "$ref": "/types/world_position/3d",
                        "description": "where the ball was hit",
                        "title": "World XYZ"
                      }
                    },
                    "required": [
                      "position",
                      "ms"
                    ],
                    "type": "object"
                  }
                },
                "required": [
                  "confidence",
                  "start",
                  "peak",
                  "end"
                ],
                "title": "Ball Flight Trajectory",
                "type": "object"
              },
              "type": "array"
            }
          },
          "required": [
            "avg_speed",
            "avg_height_over_net",
            "ball_trajectories"
          ],
          "title": "Shot Stats",
          "type": "object"
        },
        "drops": {
          "additionalProperties": false,
          "description": "Stats about third shot drops. Omitted if the player did not hit any drops.",
          "properties": {
            "avg_height_over_net": {
              "description": "The average height over net across shots.",
              "type": "number"
            },
            "avg_speed": {
              "description": "The average speed across shots.",
              "type": "number"
            },
            "ball_trajectories": {
              "description": "The flight path of each shot.",
              "items": {
                "additionalProperties": false,
                "description": "Describes the idealized flight path of a ball after it was hit by the player.\n\nThe ball essentially flies in a 2D projectile motion along a 2D plane. One dimension\nof this plane is aligned with the Z-axis. An estimation of its path through 3D space\ncan be reconstructed from its initial flight characteristics and start and end\npoints.",
                "properties": {
                  "confidence": {
                    "$ref": "/types/confidence",
                    "description": "our confidence in this trajectory (based on our confidence in the start and end positions of the ball)",
                    "title": "Prediction Confidence"
                  },
                  "end": {
                    "additionalProperties": false,
                    "description": "the end of the ball's flight which happens when it bounces, hits the net, is hit by a paddle, or flies out of the video frame",
                    "properties": {
                      "ms": {
                        "$ref": "/types/video_time",
                        "description": "when the ball ended its flight",
                        "title": "Video Milliseconds"
                      },
                      "position": {
                        "$ref": "/types/world_position/3d",
                        "description": "where the ball when it ended its flight",
                        "title": "World XYZ"
                      }
                    },
                    "required": [
                      "position",
                      "ms"
                    ],
                    "type": "object"
                  },
                  "peak": {
                    "$ref": "/types/world_position/3d",
                    "description": "where the ball reached its highest (z) point",
                    "title": "World XYZ"
                  },
                  "start": {
                    "additionalProperties": false,
                    "description": "the moment the ball starts flying after being hit",
                    "properties": {
                      "ms": {
                        "$ref": "/types/video_time",
                        "description": "when the ball was hit",
                        "title": "Video Milliseconds"
                      },
                      "position": {
                        "$ref": "/types/world_position/3d",
                        "description": "where the ball was hit",
                        "title": "World XYZ"
                      }
                    },
                    "required": [
                      "position",
                      "ms"
                    ],
                    "type": "object"
                  }
                },
                "required": [
                  "confidence",
                  "start",
                  "peak",
                  "end"
                ],
                "title": "Ball Flight Trajectory",
                "type": "object"
              },
              "type": "array"
            }
          },
          "required": [
            "avg_speed",
            "avg_height_over_net",
            "ball_trajectories"
          ],
          "title": "Shot Stats",
          "type": "object"
        },
        "lobs": {
          "additionalProperties": false,
          "description": "Stats about third shot lobs. Omitted if the player did not hit any lobs.",
          "properties": {
            "avg_height_over_net": {
              "description": "The average height over net across shots.",
              "type": "number"
            },
            "avg_speed": {
              "description": "The average speed across shots.",
              "type": "number"
            },
            "ball_trajectories": {
              "description": "The flight path of each shot.",
              "items": {
                "additionalProperties": false,
                "description": "Describes the idealized flight path of a ball after it was hit by the player.\n\nThe ball essentially flies in a 2D projectile motion along a 2D plane. One dimension\nof this plane is aligned with the Z-axis. An estimation of its path through 3D space\ncan be reconstructed from its initial flight characteristics and start and end\npoints.",
                "properties": {
                  "confidence": {
                    "$ref": "/types/confidence",
                    "description": "our confidence in this trajectory (based on our confidence in the start and end positions of the ball)",
                    "title": "Prediction Confidence"
                  },
                  "end": {
                    "additionalProperties": false,
                    "description": "the end of the ball's flight which happens when it bounces, hits the net, is hit by a paddle, or flies out of the video frame",
                    "properties": {
                      "ms": {
                        "$ref": "/types/video_time",
                        "description": "when the ball ended its flight",
                        "title": "Video Milliseconds"
                      },
                      "position": {
                        "$ref": "/types/world_position/3d",
                        "description": "where the ball when it ended its flight",
                        "title": "World XYZ"
                      }
                    },
                    "required": [
                      "position",
                      "ms"
                    ],
                    "type": "object"
                  },
                  "peak": {
                    "$ref": "/types/world_position/3d",
                    "description": "where the ball reached its highest (z) point",
                    "title": "World XYZ"
                  },
                  "start": {
                    "additionalProperties": false,
                    "description": "the moment the ball starts flying after being hit",
                    "properties": {
                      "ms": {
                        "$ref": "/types/video_time",
                        "description": "when the ball was hit",
                        "title": "Video Milliseconds"
                      },
                      "position": {
                        "$ref": "/types/world_position/3d",
                        "description": "where the ball was hit",
                        "title": "World XYZ"
                      }
                    },
                    "required": [
                      "position",
                      "ms"
                    ],
                    "type": "object"
                  }
                },
                "required": [
                  "confidence",
                  "start",
                  "peak",
                  "end"
                ],
                "title": "Ball Flight Trajectory",
                "type": "object"
              },
              "type": "array"
            }
          },
          "required": [
            "avg_speed",
            "avg_height_over_net",
            "ball_trajectories"
          ],
          "title": "Shot Stats",
          "type": "object"
        }
      },
      "title": "Third Shot Stats",
      "type": "object"
    },
    "top_speed_serve": {
      "description": "The top speed serve of the player (MPH).",
      "type": "number"
    },
    "top_speed_shot": {
      "description": "The top speed shot of the player (MPH).",
      "type": "number"
    },
    "total_team_shot_percentage": {
      "$ref": "/types/percentage",
      "description": "The percentage of total team shots taken by the player.",
      "title": "Percentage"
    },
    "volley_count": {
      "$ref": "/types/count",
      "description": "The total number of volleys by the player.",
      "title": "Count"
    }
  },
  "required": [
    "team",
    "shot_count",
    "serve_count",
    "return_count",
    "third_shot_stats",
    "final_shot_count",
    "volley_count",
    "ground_stroke_count",
    "top_speed_shot",
    "average_speed_shot",
    "median_speed_shot",
    "top_speed_serve",
    "average_serve_speed",
    "median_serve_speed",
    "left_side_percentage",
    "role_stats",
    "total_team_shot_percentage",
    "shot_zones",
    "ball_directions",
    "court_coverage"
  ],
  "title": "Player Stats",
  "type": "object"
}